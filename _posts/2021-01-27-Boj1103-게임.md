---
title:  "[ë°±ì¤€] 1103 ê²Œì„"
date: 2021-01-27 20:32:00
categories:
- PS
tags:
- Java
- Baekjoon
- BackTracking
- Permutation
- Algorithm
toc: true
toc_sticky: true
toc_label: "[ë°±ì¤€] 1103 ê²Œì„"
---
## :notebook_with_decorative_cover: ë¬¸ì œ
[ë§í¬](https://www.acmicpc.net/problem/1103)
<!--break-->

## ğŸ”‘ë‚´ í’€ì´
```java
import java.io.*;
import java.util.*;

public class Main {
  static int[][] deltas = { {0,1}, {0,-1}, {1,0}, {-1,0} }; // ìƒí•˜ì¢Œìš° ì¢Œí‘œ
  static String[] map; // í˜„ì¬ map
  static int[][] dp; // ì´ë™í•˜ëŠ” ì¹¸ì„ ë‹´ê¸°ìœ„í•œ dpë°°ì—´(ë©”ëª¨ì´ì œì´ì…˜ ì´ìš©í•¨)
  static boolean[][] checked; // ë°©ë¬¸ì„ ìœ„í•œ ë°°ì—´
  static int r,c;
  static int ans = 0;

  public static void main(String[] args) throws IOException {
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    StringTokenizer st = new StringTokenizer(br.readLine());
    r = Integer.parseInt(st.nextToken());
    c = Integer.parseInt(st.nextToken());
    dp = new int[r][c];
    checked = new boolean[r][c];
    map = new String[r];

    for(int i =0; i< r; i++) {
      map[i] = br.readLine();
    }

    ans = findMax(0, 0);
    System.out.print(ans);
  }

  static int findMax(int x, int y) {
    if(!isIn(x, y)) return 0; // ì¢Œí‘œê°€ mapì„ ë²—ì–´ë‚˜ë©´ 
    if(map[x].charAt(y) == 'H') return 0; // í•¨ì •ì— ê±¸ë¦°ë‹¤ë©´
    if(checked[x][y]) { // ì˜ˆì „ì— ë°©ë¬¸ì„ í•œ ê³³ì´ë¼ë©´, ë¬´í•œë£¨í”„ê°€ ëŒ ìˆ˜ ìˆëŠ” êµ¬ì¡°ì´ë¯€ë¡œ ì¡°ê±´ì— ë”°ë¼ -1 ë°˜í™˜
      System.out.print(-1);
      System.exit(0);
    }
    if(dp[x][y] != 0) return dp[x][y]; // dpê°’ì´ 0ì´ ì•„ë‹ˆë¼ë©´(ì´ë¯¸ ì˜ˆì „ì— ë°©ë¬¸í–ˆë˜ ê³³ì´ë©´) ê°€ì§€ì¹˜ê¸°ë¥¼ í•´ì¤Œ
    checked[x][y] = true;
    for (int i = 0; i < 4; i++)
      dp[x][y] = Math.max(dp[x][y], findMax(x + ((map[x].charAt(y)-'0') * deltas[i][0]), y + ((map[x].charAt(y)-'0') * deltas[i][1]) ) + 1);
    checked[x][y] = false;
    return dp[x][y];
  }

  static boolean isIn(int x, int y) {
    if(x < 0 || x >= r || y <0 || y >= c) return false;
    return true;
  }

}
```

## í›„ê¸°
ì´ ë¬¸ì œëŠ” dfsì— ë”í•´ dpì˜ ë©”ëª¨ì´ì œì´ì…˜ì„ ì‚¬ìš©í•´ì•¼ í†µê³¼í•  ìˆ˜ ìˆëŠ” ë¬¸ì œì˜€ë‹¤.. ì²˜ìŒì— ë¬¸ì œë¥¼ í’€ê³  ì œì¶œí–ˆì—ˆëŠ”ë° ë°”ë¡œ ë©”ëª¨ë¦¬ì´ˆê³¼ê°€ ë‚˜ì„œ ë‹¹í™©í–ˆì—ˆë‹¤.  
ë§ì´ ì ‘í•´ë³´ì§€ ëª»í•œ ìœ í˜•ì´ì–´ì„œ ë‹¹í™©í–ˆëŠ”ë° ì¡°ê¸ˆ ë” í’€ì–´ë´ì•¼ê² ë‹¤.